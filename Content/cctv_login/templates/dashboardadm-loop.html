<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="{{ url_for('static', filename='style-dashboard-admin.css') }}">
    <link href="https://fonts.googleapis.com/css?family=Inter&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500&display=swap" rel="stylesheet">
    </head>

<body>
    <!-- navbar -->
    <header>
        <div class="topnav">
            <div class="topnav-right">
              <a href="#usernam"><i class="bi bi-person-circle"></i> {{username}}</a>
              <a class="aktif" href="{{ url_for('auth.logout') }}">Logout <i class="bi bi-box-arrow-right"></i></a>
            </div>
        </div>
    </header>

    <!-- menu kanan -->
    <section>
        <div class="menu">
            <h2>
                <i class="bi bi-camera-video-fill"></i> Kamera
            </h2>
            <input type="number" name="a" id="a" value="2">
            
            <button onclick="textBox(document.getElementById('a').value)">Add</button>
            
            <form action="{{ url_for('database_cctv.update_active_wincam_admin') }}" method="post" class="wincam">
                    <div class="dropdown"id="ui">
                        <!-- list kamera -->
                        <!-- <select class="dropbtn" name="wincam1">
                        <div class="dropdown-content">
                            <option value="" disabled selected>{{test1}}</option>
                            {% for row in range(limit) %}
                                <option value={{list_cctv[1][row]}}>{{list_cctv[0][row]}}</option>
                            {% endfor %}
                        </div>
                        </select> -->

                        <!-- <label for="wincam2"></label>
                        <select class="dropbtn" name="wincam2">
                            <div class="dropdown-content">
                                    <option value="" disabled selected>{{test2}}</option>
                                {% for row in list_cctv %}
                                    <option value={{row[1]}}>{{row[0]}}</option>
                                {% endfor %}
                            </div>
                        </select>

                        <label for="wincam3"></label>
                        <select class="dropbtn" name="wincam3">
                            <div class="dropdown-content">
                                <option value="" disabled selected>{{test3}}</option>
                                {% for row in list_cctv %}
                                    <option value={{row[1]}}>{{row[0]}}</option>
                                {% endfor %}
                            </div>
                        </select>

                        <label for="wincam4"></label>
                        <select class="dropbtn" name="wincam4">
                            <div class="dropdown-content">
                                <option value="" disabled selected>{{test4}}</option>
                                {% for row in list_cctv %}
                                    <option value={{row[1]}}>{{row[0]}}</option>
                                {% endfor %}
                            </div>
                        </select> -->
                    </div>
                    <input type="submit"value="Update" class="updet">
            </form>
            
            <!-- pembatas hanya untuk admin -->
            <h3>
                <i class="bi bi-plus-circle"></i> Kamera
            </h3>
            <ul>
                <li>
                    <p class="tambah"><i class="bi bi-camera-video"></i> Nama Kamera</p>
                    <input type="text" placeholder="Nama" class="link">
                    <p class="tambah"><i class="bi bi-link"></i> Link Kamera</p>
                    <input type="text" placeholder="Link" class="link">
                    <input type="submit" class="submit" value="Tambah">
                </li>
                <li class="btn-group">
                    <a href="{{ url_for('auth.user_manage') }}" class="button">manajemen user</a>
                    <a href="{{ url_for('auth.cctv_manage') }}"class="button">manajemen cctv</a>
                </li>
            </ul>
        </div>
    </section>


    <!-- kamera 2x2 -->
    <main class="kamera">
        <div class="row g-0" id="fol">
            <!-- <div class="col-md-5"  controls id="myvideo" onclick="openFullscreen();">
                <img src = "{{ url_for('playvid.video_feed1') }}" height="315" width ="520" class="w-100" allowfullscreen id="cam1">
            </div>
            <div class="col-md-5"  controls id="myvideo" onclick="openFullscreen();">
                <img src = "{{ url_for('playvid.video_feed2') }}" height="315" width ="520" class="w-100" allowfullscreen id="cam2">
            </div> -->
        
            <!-- <div class="col-md-5"  controls id="myvideo" onclick="openFullscreen();">
                <img src = "{{ url_for('playvid.video_feed3') }}" height="315" width ="520" class="w-100" allowfullscreen id="cam3">
            </div>
            <div class="col-md-5"  controls id="myvideo" onclick="openFullscreen();">
                <img src = "{{ url_for('playvid.video_feed4') }}" height="315" width ="520" class="w-100" allowfullscreen id="cam4">
            </div> -->

        </div>
        <button onclick="openFullscreen();">Open Video in Fullscreen Mode</button>
    </main>

    <!-- footer -->

    <!-- scrip fulskrin -->
    <script type="text/javascript">
        function textBox(selections) {
            for (var i=1; i <= selections; i++) {
                document.getElementById('fol').innerHTML += '<div class="col-md-5" id="myvideo" onclick="openFullscreen();"><img src = "{{ url_for("playvid.video_feed") }}" height="315" width ="520" class="w-100 h-100" allowfullscreen id="cam'+i+'"></div>';
            }
            for (var i=1; i <= selections; i++) {
                document.getElementById('ui').innerHTML += '<select class="dropbtn" name="wincam'+i+'"><div class="dropdown-content"><option value="" disabled selected>{{test1}}</option>{% for row in range(limit) %}<option value={{list_cctv[1][row]}}>{{list_cctv[0][row]}}</option>{% endfor %}</div>'+i+'</select>';
            }
        }
        textBox(a);
        
        
        var elem = document.getElementById("myvideo");
        function openFullscreen() {
          if (elem.requestFullscreen) {
            elem.requestFullscreen();
          } else if (elem.webkitRequestFullscreen) { /* Safari */
            elem.webkitRequestFullscreen();
          } else if (elem.msRequestFullscreen) { /* IE11 */
            elem.msRequestFullscreen();
          }
        }
    </script> 
</body>
</html>